/bigdata-api
â”‚
â”œâ”€â”€ cmd/
â”‚   â”œâ”€â”€ server/                     # Main API Server (Fiber)
â”‚   â”‚   â””â”€â”€ main.go
â”‚   â”‚
â”‚   â”œ
â”‚   â”‚   
â”‚   â”‚
â”‚   â””â”€â”€ 
â”‚       
â”‚
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ config/                     # Environment, Config Loader
â”‚   â”‚   â”œâ”€â”€ config.go               # Load env vars
â”‚   â”‚    
â”‚   â”‚
â”‚   â”œâ”€â”€ database/                   # Database connections
â”‚   â”‚   â”œâ”€â”€ postgres.go             # PostgreSQL (Users, Credits, Logs, Usage, Feedback)
â”‚   â”‚   â”œâ”€â”€ redis.go                # Redis (Rate limits, caching)
â”‚   â”‚   â””â”€â”€ clickhouse.go           # ClickHouse (Analytics)
â”‚   â”‚
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ middlewares/            # Middlewares Layer
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.go             # User API key validation
â”‚   â”‚   â”‚   â”œâ”€â”€ admin.go            # Admin key validation
â”‚   â”‚   â”‚   â”œâ”€â”€ ratelimit.go        # Redis rate limiter
â”‚   â”‚   â”‚   â”œâ”€â”€ credits.go          # Auto credit deduction
â”‚   â”‚   â”‚   â”œâ”€â”€ logging.go          # Request logging
â”‚   â”‚   â”‚    
â”‚   â”‚   â”‚   
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ controllers/            # Controllers (split by module)
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ verify_key.go
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ users/              # Users Module
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create.go
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ list.go
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ details.go
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ delete.go
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ regenerate.go
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ update.go       # (future)
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ credits/            # Credits Module
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ add.go
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ deduct.go
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ history.go
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ feedback/           # Feedback System
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create.go
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ list.go
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ reply.go
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ update_status.go
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ logs/               # Logs Module
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get_logs.go
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ get_user_logs.go
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ stats/              # Stats + Dashboard Data
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ overview.go     # Admin dashboard stats
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ daily_usage.go  # 30-day usage
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ system/             # System Health
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ health.go
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ metrics.go
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ query/              # Main Query Endpoint
â”‚   â”‚   â”‚       â””â”€â”€ query_handler.go
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ routes/                 # Route Groups
â”‚   â”‚       â”œâ”€â”€ public.go           # /v1/public â†’ health, metrics, verify-key
â”‚   â”‚       â”œâ”€â”€ user.go             # /v1 â†’ API users
â”‚   â”‚       â””â”€â”€ admin.go            # /v1/admin â†’ Admin routes
â”‚   â”‚
â”‚   â”œâ”€â”€ repository/                 # Database Access Layer
â”‚   â”‚   â”œâ”€â”€ user_repo.go
â”‚   â”‚   â”œâ”€â”€ credit_repo.go
â”‚   â”‚   â”œâ”€â”€ feedback_repo.go
â”‚   â”‚   â”œâ”€â”€ usage_repo.go
â”‚   â”‚   â”œâ”€â”€ logs_repo.go
â”‚   â”‚   â”œâ”€â”€ stats_repo.go
â”‚   â”‚   â”œâ”€â”€ system_repo.go
â”‚   â”‚   â””â”€â”€ record_repo.go          # ClickHouse SELECT with filtering
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                     # Data Models
â”‚   â”‚   â”œâ”€â”€ user.go
â”‚   â”‚   â”œâ”€â”€ credit.go
â”‚   â”‚   â”œâ”€â”€ usage.go
â”‚   â”‚   â”œâ”€â”€ logs.go
â”‚   â”‚   â”œâ”€â”€ feedback.go
â”‚   â”‚   â”œâ”€â”€ record.go
â”‚   â”‚   â””â”€â”€ system.go
â”‚   â”‚
â”‚   â”œâ”€â”€ ingestion/                  # Ingestion Engine (ClickHouse)
â”‚   â”‚   â”œâ”€â”€ reader.go
â”‚   â”‚   â”œâ”€â”€ normalize.go
â”‚   â”‚   â”œâ”€â”€ dedupe.go
â”‚   â”‚   â””â”€â”€ loader.go
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                      # Utilities
â”‚   â”‚   â”œâ”€â”€ hasher.go
â”‚   â”‚   â”œâ”€â”€ jwt.go                  # (future) JWT login for UI users
â”‚   â”‚   â”œâ”€â”€ response.go
â”‚   â”‚   â”œâ”€â”€ validator.go
â”‚   â”‚   â”œâ”€â”€ pagination.go
â”‚   â”‚   â””â”€â”€ logger.go
â”‚   â”‚
â”‚   â””â”€â”€ services/                   # Business Logic Layer
â”‚       â”œâ”€â”€ credit_service.go
â”‚       â”œâ”€â”€ feedback_service.go
â”‚       â”œâ”€â”€ stats_service.go
â”‚       â”œâ”€â”€ notification_service.go
â”‚       â””â”€â”€ email_service.go        # Optional (SMTP, SendGrid)
â”‚
â”œâ”€â”€ migrations/                     # SQL Migrations (future)
â”‚
â”œâ”€â”€ scripts/                        # Dev/Utility scripts
â”‚   â”œâ”€â”€ migrate.go
â”‚   â”œâ”€â”€ ingest_csv.go
â”‚   â””â”€â”€ dev_seed.go                 # Seed demo data
â”‚
â”œâ”€â”€ test/                           # Unit tests (future)
â”‚   â”œâ”€â”€ user_test.go
â”‚   â”œâ”€â”€ credits_test.go
â”‚   â””â”€â”€ stats_test.go
â”‚
â”œâ”€â”€ .env
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â””â”€â”€ README.md

ğŸ“Œ FINAL SUMMARY TABLE
Feature	Status
Users CRUD	âœ” Done
Admin Auth	âœ” Done
API Query	âœ” Done
Credits Add/Deduct	âœ” Done
Logs	âœ” Done
Feedback Create/List	âœ” Done
Stats Overview	âœ” Done
Daily Usage	âœ” Done
Credit History	ğŸ”¶ Partial
Feedback Reply/Status	ğŸ”¶ Partial
System Monitoring	ğŸ”¶ Partial
ClickHouse Analytics	âŒ Not Started
Worker	âŒ Not Started
Cron Jobs	âŒ Not Started
Services Layer	âŒ Not Started
Scripts	âŒ Not Started
Tests	âŒ Not Started
User Update API	âŒ Not Started
Roles & Permissions	âŒ Not Started